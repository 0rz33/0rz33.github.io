<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    

    <!--Author-->
    
        <meta name="author" content="4ckU">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="0rz33"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="0rz33"/>

    <!--Type page-->
    
        <meta property="og:type" content="website" />
    

    <!--Page Cover-->
    

    
        <meta name="twitter:card" content="summary" />
    
    
    

    <!-- Title -->
    
    <title>page - 0rz33</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/style.css">


    <!-- Google Analytics -->
    


<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about">
                    About
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/tags">
                    Tags
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/categories">
                    Categories
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/contact">
                    Contact
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Searching-->
<div class="search-bg">
    <div class="search-container">
            <div class="alpha-search">
                <form class="site-search-form">
                    <input type="text" id="local-search-input" class="st-search-input" />
                </form>
                <div id="local-search-result">
                </div>
            </div>
        </div>
    </div>
</div> 

<!--Hamburger Icon-->
<search>
    <a href="#search"></a>
</search>
<nav>
    <a href="#menu"></a>
</nav>

<!-- 执行本地搜索脚本 -->
<script>
    var inputArea = document.querySelector("#local-search-input");
    var getSearchFile = function(){
        var path = "/search.xml";
        searchFunc(path, 'local-search-input', 'local-search-result');
    }
    inputArea.onfocus = function(){ getSearchFile() }
    inputArea.onkeydown = function(){ if(event.keyCode==13) return false}
</script>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
            <h1 id="main-title" class="title">0rz33</h1>
        
    </div>
</header>

        <section class="main">
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2025/11/27/house-system/">
                家庭-中控系统
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2025-11-27</span>
            
            
            
                <span class="category">
                    <a href="/categories/新/">新</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <ul>
<li><p><a href="#%E5%AE%B6%E5%BA%AD%E4%B8%AD%E6%8E%A7%E7%B3%BB%E7%BB%9F">家庭中控系统</a></p>
<ul>
<li><a href="#%E6%9E%B6%E6%9E%84">架构</a></li>
</ul>
</li>
<li><p><a href="#%E5%AE%B6%E5%BA%AD%E5%8A%A9%E6%89%8B">家庭助手</a></p>
<ul>
<li><a href="#Home+Assistant">Home Assistant</a></li>
<li><a href="#%E4%B8%AA%E4%BA%BA%E8%AF%AD%E9%9F%B3%E5%8A%A9%E6%89%8B">个人语音助手</a></li>
<li><a href="#%E9%9F%B3%E7%AE%B1DIY">音箱DIY</a></li>
<li><a href="#AI%E4%B8%AD%E6%8E%A7%E7%B3%BB%E7%BB%9F">AI中控系统</a></li>
</ul>
</li>
<li><p><a href="#NAS">NAS</a></p>
</li>
<li><p><a href="#%E5%B7%A5%E4%BD%9C%E7%AB%99">工作站</a></p>
</li>
</ul>
<h1 id="家庭中控系统"><a href="#家庭中控系统" class="headerlink" title="家庭中控系统"></a>家庭中控系统</h1><p>CasaOS 偏向家庭<br><a target="_blank" rel="noopener" href="https://casaos.zimaspace.com/">文件管理器 - casaOS</a></p>
<p>Sealos 偏向专业<br><a target="_blank" rel="noopener" href="https://github.com/labring/sealos">集群 使用文件管理器Sealos k8s</a><br><a target="_blank" rel="noopener" href="https://sealos.io/">Sealos</a></p>
<p>Sealos -&gt; CasaOS -&gt; Home Assistant</p>
<p>SeaOS 是一个专为家庭设计的中控系统（Home Control System &#x2F; Smart Home Hub），核心目标是把家里的各种智能设备、存储、网络服务整合在一个平台上，实现统一管理和自动化</p>
<ul>
<li>跨设备支持：可以控制智能灯、智能门锁、摄像头、传感器等。</li>
<li>家庭自动化：支持条件触发、场景设置、定时任务。</li>
<li>本地化存储：可与 NAS 或家庭服务器结合，避免云端依赖。</li>
<li>开放接口：可以与第三方系统或自建程序对接。</li>
</ul>
<h2 id="架构"><a href="#架构" class="headerlink" title="架构"></a>架构</h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">                                 <span class="operator">┌─────────────┐</span></span><br><span class="line">                                 <span class="operator">│</span>   外网访问   <span class="operator">│</span></span><br><span class="line">                                 <span class="operator">│</span>   <span class="type">VPN入口</span>   <span class="operator">│</span></span><br><span class="line">                                 <span class="operator">└─────┬───────┘</span></span><br><span class="line">                                       <span class="operator">│</span></span><br><span class="line">                                <span class="operator">┌──────▼───────┐</span></span><br><span class="line">                                <span class="operator">│</span>    <span class="type">Sealos</span>    <span class="operator">│</span>   <span class="operator">←</span> 家庭中控核心</span><br><span class="line">                                <span class="operator">│</span> （集群平台）   <span class="operator">│</span></span><br><span class="line">                                <span class="operator">└──────┬───────┘</span></span><br><span class="line">          <span class="operator">┌────────────────────────────┼────────────────────────────┐</span></span><br><span class="line">          <span class="operator">│</span>                            <span class="operator">│</span>                            <span class="operator">│</span></span><br><span class="line"><span class="operator">┌─────────▼───────────┐</span>     <span class="operator">┌──────────▼───────────┐</span>     <span class="operator">┌─────────▼───────────┐</span></span><br><span class="line"><span class="operator">│</span> 家庭云 <span class="operator">/</span> 存储 <span class="type">NAS</span>    <span class="operator">│</span>     <span class="operator">│</span> 树莓派 <span class="type">RPi</span>            <span class="operator">│</span>     <span class="operator">│</span> <span class="type">PC</span> 图形工作站         <span class="operator">│</span></span><br><span class="line"><span class="operator">│</span> <span class="operator">-</span> 文件共享           <span class="operator">│</span>     <span class="operator">│</span> <span class="operator">-</span> <span class="type">Home</span> <span class="type">Assistant</span>     <span class="operator">│</span>     <span class="operator">│</span> <span class="operator">-</span> <span class="type">AI</span> 算力节点        <span class="operator">│</span></span><br><span class="line"><span class="operator">│</span> <span class="operator">-</span> 照片<span class="regexp">/视频管理      │     │ - MQTT /</span> <span class="type">Zigbee网关</span>   <span class="operator">│</span>     <span class="operator">│</span> <span class="operator">-</span> 大模型推理          <span class="operator">│</span></span><br><span class="line"><span class="operator">│</span> <span class="operator">-</span> 数据库<span class="regexp">/备份        │     │ - 本地语音助手          │    │ - 人脸/</span>语音识别       <span class="operator">│</span></span><br><span class="line"><span class="operator">└─────────┬───────────┘</span>     <span class="operator">└──────────┬───────────┘</span>     <span class="operator">└─────────┬───────────┘</span></span><br><span class="line">          <span class="operator">│</span>                            <span class="operator">│</span>                            <span class="operator">│</span></span><br><span class="line">          <span class="operator">│</span>                            <span class="operator">│</span>                            <span class="operator">│</span></span><br><span class="line">  <span class="operator">┌───────▼──────────┐</span>                 <span class="operator">│</span>                 <span class="operator">┌──────────▼──────────┐</span></span><br><span class="line">  <span class="operator">│</span> 智能家居设备       <span class="operator">│</span>                 <span class="operator">│</span>                 <span class="operator">│</span> <span class="type">AI</span> 智能管家模块        <span class="operator">│</span></span><br><span class="line">  <span class="operator">│</span> <span class="operator">-</span> 灯光<span class="regexp">/门锁/</span>摄像头 <span class="operator">│</span>                 <span class="operator">│</span>                 <span class="operator">│</span> <span class="operator">-</span> 语音助手             <span class="operator">│</span></span><br><span class="line">  <span class="operator">│</span> <span class="operator">-</span> 空调<span class="operator">/</span>传感器      <span class="operator">│</span>                 <span class="operator">│</span>                 <span class="operator">│</span> <span class="operator">-</span> 家电自动化控制       <span class="operator">│</span></span><br><span class="line">  <span class="operator">│</span> <span class="operator">-</span> 智能插座        <span class="operator">│</span>                 <span class="operator">│</span>                 <span class="operator">│</span> <span class="operator">-</span> 场景联动决策        <span class="operator">│</span></span><br><span class="line">  <span class="operator">└──────────────────┘</span>                 <span class="operator">│</span>                 <span class="operator">└──────────┬──────────┘</span></span><br><span class="line">                                       <span class="operator">│</span>                            <span class="operator">│</span></span><br><span class="line">                           <span class="operator">┌───────────▼───────────┐</span>     <span class="operator">┌──────────▼──────────┐</span></span><br><span class="line">                           <span class="operator">│</span> 手机 <span class="operator">/</span> 平板 <span class="operator">/</span> <span class="type">PC</span> 控制端 <span class="operator">│</span>      <span class="operator">│</span> <span class="type">Web</span><span class="operator">/</span>远程访问界面      <span class="operator">│</span></span><br><span class="line">                           <span class="operator">│</span> <span class="operator">-</span> 控制智能设备          <span class="operator">│</span>     <span class="operator">│</span> <span class="operator">-</span> <span class="type">NAS</span><span class="operator">/</span><span class="type">Sealos管理面板</span> <span class="operator">│</span></span><br><span class="line">                           <span class="operator">│</span> <span class="operator">-</span> 监控家庭安防          <span class="operator">│</span>     <span class="operator">│</span> <span class="operator">-</span> 媒体查看与剪辑      <span class="operator">│</span></span><br><span class="line">                           <span class="operator">└───────────────────────┘</span>     <span class="operator">└────────────────────┘</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="基础硬件"><a href="#基础硬件" class="headerlink" title="基础硬件"></a>基础硬件</h2><p>🏠 家庭 AI 管家软件组合清单</p>
<ul>
<li><p>1️⃣ 中控（树莓派）</p>
<ul>
<li>负责 自动化、协议网关、远程接入</li>
<li>Home Assistant → 家庭自动化核心</li>
<li>Mosquitto (MQTT) → 设备消息通信</li>
<li>Zigbee2MQTT &#x2F; ZHA → 控制 Zigbee 灯、插座、传感器</li>
<li>WireGuard &#x2F; Tailscale → VPN，外网访问</li>
<li>ESPHome → 自制传感器&#x2F;控制器接入</li>
</ul>
</li>
<li><p>2️⃣ NAS + AI（工作站）</p>
<ul>
<li>负责 数据存储、多媒体、AI 计算</li>
<li>📂 NAS &amp; 存储<ul>
<li>OpenMediaVault（轻量 NAS 系统，基于 Debian，Docker 友好）</li>
<li>TrueNAS &#x2F; Unraid（高级选项，适合多硬盘管理、虚拟化）</li>
<li>Nextcloud → 家庭云盘，文件共享&#x2F;同步&#x2F;照片备份</li>
<li>Jellyfin &#x2F; Plex → 视频、音乐管理播放</li>
</ul>
</li>
<li>🤖 AI 功能<ul>
<li>🔊 语音助手</li>
<li>Rhasspy（本地语音助手，支持中文，和 Home Assistant 集成）</li>
<li>Whisper (OpenAI 模型，本地可跑) → 高精度语音识别</li>
<li>OpenVoiceOS → 类似“小爱同学”的本地助手</li>
<li>硬件：USB 麦克风阵列 + 小音箱</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>✅ 总结搭配</p>
<ul>
<li>树莓派：Home Assistant + MQTT + Zigbee + VPN</li>
<li>工作站：NAS（OpenMediaVault） + AI（人脸识别&#x2F;语音助手&#x2F;安防） + 媒体中心</li>
<li>终端设备：手机&#x2F;平板&#x2F;PC → 通过 HA App + Nextcloud + Jellyfin 管理</li>
</ul>
<h1 id="家庭助手"><a href="#家庭助手" class="headerlink" title="家庭助手"></a>家庭助手</h1><h1 id="Home-Assistant"><a href="#Home-Assistant" class="headerlink" title="Home Assistant"></a>Home Assistant</h1><h2 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1. 介绍"></a>1. 介绍</h2><h2 id="需要硬件"><a href="#需要硬件" class="headerlink" title="需要硬件"></a>需要硬件</h2><h3 id="🧩-一、总体架构与接入方式概览"><a href="#🧩-一、总体架构与接入方式概览" class="headerlink" title="🧩 一、总体架构与接入方式概览"></a>🧩 一、总体架构与接入方式概览</h3><table>
<thead>
<tr>
<th>模块</th>
<th>推荐通信协议</th>
<th>接入方式</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>电表</td>
<td>Modbus&#x2F;Tuya&#x2F;MQTT&#x2F;LoRa</td>
<td>智能电表或智能插座</td>
<td>有些电表支持 RS485&#x2F;Modbus</td>
</tr>
<tr>
<td>水表</td>
<td>Modbus&#x2F;脉冲&#x2F;Tuya</td>
<td>脉冲水表+采集器</td>
<td>可用 ESPHome 转接</td>
</tr>
<tr>
<td>太阳能蓄电池</td>
<td>Modbus&#x2F;MQTT</td>
<td>RS485 转 WiFi 网关</td>
<td>比如 Pylontech&#x2F;逆变器</td>
</tr>
<tr>
<td>太阳能热水</td>
<td>温控器+阀门控制</td>
<td>Zigbee&#x2F;WiFi</td>
<td>可控制电加热、温度采集</td>
</tr>
<tr>
<td>蓄水池</td>
<td>液位传感器+泵控制</td>
<td>GPIO&#x2F;ESPHome</td>
<td>液位监控+自动抽水</td>
</tr>
<tr>
<td>污水池</td>
<td>液位+PH+泵</td>
<td>ESP32&#x2F;Modbus</td>
<td>工业传感器接入</td>
</tr>
<tr>
<td>安保系统</td>
<td>Zigbee&#x2F;WiFi&#x2F;RTSP</td>
<td>摄像头&#x2F;门磁&#x2F;报警器</td>
<td>常接 Hikvision、小米</td>
</tr>
</tbody></table>
<h3 id="🧱-总体架构示意"><a href="#🧱-总体架构示意" class="headerlink" title="🧱 总体架构示意"></a>🧱 总体架构示意</h3><pre class="mermaid">graph TD
    HA["Home Assistant<br/>(运行在树莓派/NAS)"]
    电表["电表<br/>(Modbus)"]
    水表["水表<br/>(脉冲)"]
    电池["太阳能电池"]
    热水["热水系统"]
    安防["Zigbee网关/摄像头"]

    电表接口["RS485转USB"]
    水表接口["GPIO输入"]
    电池接口["RS485转TCP"]
    热水接口["温控+继电器"]
    安防接口["Zigbee传感器<br/>(门磁/人体/烟雾等)"]

    HA --> 电表 --> 电表接口
    HA --> 水表 --> 水表接口
    HA --> 电池 --> 电池接口
    HA --> 热水 --> 热水接口
    HA --> 安防 --> 安防接口</pre>


<h2 id="个人语音助手"><a href="#个人语音助手" class="headerlink" title="个人语音助手"></a>个人语音助手</h2><h3 id="一、语音验证（说话人识别）"><a href="#一、语音验证（说话人识别）" class="headerlink" title="一、语音验证（说话人识别）"></a>一、语音验证（说话人识别）</h3><table>
<thead>
<tr>
<th>方案</th>
<th>方法</th>
<th>优点</th>
<th>适用场景</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Vosk + X-vector</strong></td>
<td>离线语音验证</td>
<td>轻量级，树莓派可运行</td>
<td>本地语音助手</td>
</tr>
<tr>
<td><strong>DeepSpeaker (D-vector)</strong></td>
<td>深度学习模型</td>
<td>高准确率</td>
<td>复杂应用，如智能门禁</td>
</tr>
<tr>
<td><strong>ECAPA-TDNN</strong></td>
<td>SOTA 声纹识别</td>
<td>最新算法，高精度</td>
<td>多用户识别</td>
</tr>
</tbody></table>
<h3 id="二、语音唤醒（Wake-Word-Detection）"><a href="#二、语音唤醒（Wake-Word-Detection）" class="headerlink" title="二、语音唤醒（Wake Word Detection）"></a>二、语音唤醒（Wake Word Detection）</h3><ul>
<li>需要一个始终在监听的“唤醒词”（如 Siri 监听“Hey Siri”）。</li>
<li>解决方案：<ul>
<li>Porcupine（轻量级，支持离线）</li>
<li>Snowboy（不再维护，但仍可用）</li>
<li>Mycroft Precise（开源，可训练自定义唤醒词）</li>
<li>Vosk + KeywordSpotter → 自定义关键词检测</li>
</ul>
</li>
</ul>
<h3 id="三、自然语言理解（Natural-Language-Understanding-NLU）"><a href="#三、自然语言理解（Natural-Language-Understanding-NLU）" class="headerlink" title="三、自然语言理解（Natural Language Understanding, NLU）"></a>三、自然语言理解（Natural Language Understanding, NLU）</h3><ul>
<li>解析用户的意图，比如“今天天气怎么样？” → 解析出“查询天气”。</li>
<li>方案：<ul>
<li>Rasa NLU（开源，可离线运行）</li>
<li>Snips NLU（轻量级，但 Snips 已被 Sonos 收购）</li>
<li>OpenAI GPT-4（需要联网，但效果强大）</li>
</ul>
</li>
</ul>
<h3 id="四、工作流程"><a href="#四、工作流程" class="headerlink" title="四、工作流程"></a>四、工作流程</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[麦克风输入]</span><br><span class="line">      ↓</span><br><span class="line">[Ring Buffer 缓存]</span><br><span class="line">      ↓</span><br><span class="line">[唤醒词检测]（Porcupine / Precise / Vosk+KeywordSpotter）</span><br><span class="line">      ↓（匹配成功）</span><br><span class="line">[提取音频片段]（如1~2秒）</span><br><span class="line">      ↓</span><br><span class="line">[X-vector 说话人识别]</span><br><span class="line">      ↓</span><br><span class="line">[身份确认后 → 激活系统 / 否则忽略]</span><br><span class="line">      ↓</span><br><span class="line">[完整语音识别（ASR）: Vosk]</span><br><span class="line">      ↓</span><br><span class="line">[NLU → 服务层 → 响应结果]</span><br><span class="line">      ↓</span><br><span class="line">[TTS → 音箱播报]</span><br></pre></td></tr></table></figure>

<h3 id="硬件需求"><a href="#硬件需求" class="headerlink" title="硬件需求"></a>硬件需求</h3><ul>
<li>树莓派 4B &#x2F; 5<ul>
<li>推荐至少 4GB RAM，运行 ASR + 说话人识别时比较流畅。</li>
</ul>
</li>
<li>麦克风<ul>
<li>USB 麦克风（简单易用，例如 TONOR TC-777）</li>
<li>或 麦克风阵列（推荐 ReSpeaker 2&#x2F;4&#x2F;6-Mic Array for Raspberry Pi，带有降噪&#x2F;回声消除）</li>
<li>如果对说话人识别准确率要求高，阵列效果更好。</li>
</ul>
</li>
<li>存储<ul>
<li>至少 32GB microSD</li>
<li>或者外接 SSD，ASR 模型会比较大。</li>
</ul>
</li>
<li>（可选）扬声器&#x2F;耳机：做语音交互时需要输出。</li>
</ul>
<h3 id="软件与模块对应"><a href="#软件与模块对应" class="headerlink" title="软件与模块对应"></a>软件与模块对应</h3><p>对应你流程里的各个步骤：</p>
<ol>
<li>麦克风输入<ul>
<li>用 pyaudio &#x2F; sounddevice 采集音频流。</li>
<li>设置为 16kHz 单声道 PCM。</li>
</ul>
</li>
<li>Ring Buffer 缓存<ul>
<li>可以用 collections.deque 或者 sounddevice.RawInputStream 自带的回调缓存。</li>
<li>缓存 1~3 秒的音频，保证唤醒词检测和语音片段提取。</li>
</ul>
</li>
<li>唤醒词检测<ul>
<li>轻量：Porcupine（低资源占用，树莓派友好）</li>
<li>可训练：Mycroft Precise</li>
<li>自定义词：Vosk + KeywordSpotter</li>
</ul>
</li>
<li>提取音频片段（1~2秒）<ul>
<li>当检测到唤醒词，立刻把 Ring Buffer 里的最后 1~2 秒 dump 出来保存为 .wav。</li>
</ul>
</li>
<li>说话人识别（X-vector）<ul>
<li>依赖 pyannote.audio 或 SpeechBrain，输入音频片段，输出 speaker embedding → 与本地数据库比对。</li>
<li>树莓派 4&#x2F;5 能跑，但建议用轻量模型或外接 USB TPU（Coral USB Accelerator）。</li>
</ul>
</li>
<li>身份确认<ul>
<li>如果 embedding 相似度 &gt; 阈值（如 0.75），则确认说话人。</li>
<li>否则忽略唤醒，避免被陌生人触发。</li>
</ul>
</li>
<li>完整语音识别（ASR）<ul>
<li>用 Vosk（支持离线运行，中文&#x2F;英文等都有预训练模型）。</li>
<li>Vosk-pi 版本可在树莓派直接跑，速度较慢，但可以用小模型（如 vosk-model-small-cn-0.3）。</li>
</ul>
</li>
</ol>
<h3 id="音箱DIY"><a href="#音箱DIY" class="headerlink" title="音箱DIY"></a>音箱DIY</h3><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1VvFrecEww/?share_source=copy_web">1.5寸便携小音箱 -3D打印DIY-</a></p>
<p>音箱 是由喇叭决定的和箱子提及无关</p>
<h2 id="AI中控系统"><a href="#AI中控系统" class="headerlink" title="AI中控系统"></a>AI中控系统</h2><p>树莓派为AI中控</p>
<h3 id="搭建AI中控系统"><a href="#搭建AI中控系统" class="headerlink" title="搭建AI中控系统"></a>搭建AI中控系统</h3><ol>
<li>准备硬件：准备树莓派&#x2F;NUC + Zigbee网关 + 插座&#x2F;传感器；</li>
<li>树莓派安装 CasaOS</li>
<li>CasaOS 安装 Home Assistant</li>
<li>接入设备（Zigbee、WiFi、Modbus)</li>
<li>创建自动化与AI场景（用 Node-RED 或 YAML）；</li>
<li>搭建 Web&#x2F;手机控制界面；</li>
<li>集成语音助手或AI识别模型（进阶）；</li>
<li>设置远程访问与告警通知（Nabu Casa 或反向代理）。</li>
</ol>
<h3 id="中控界面示例"><a href="#中控界面示例" class="headerlink" title="中控界面示例"></a>中控界面示例</h3><ol>
<li>你可以设计一个包含以下模块的主界面：</li>
<li>今日用电图表（Grafana）</li>
<li>灯光&#x2F;插座状态面板（按房间划分）</li>
<li>空调&#x2F;风扇控制（带温湿度曲线）</li>
<li>安防警报 + 摄像头预览</li>
<li>语音助手入口按钮</li>
<li>自动化场景切换（如“离家模式”、“就寝模式”）</li>
</ol>
<h1 id="NAS"><a href="#NAS" class="headerlink" title="NAS"></a>NAS</h1><p>家庭nas 即插即拔</p>
<p>TrueNAS 系统 可玩性强</p>
<h1 id="工作站"><a href="#工作站" class="headerlink" title="工作站"></a>工作站</h1>
        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2025/11/27/house-vegetable/">
                水培蔬菜
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2025-11-27</span>
            
            
            
                <span class="category">
                    <a href="/categories/新/">新</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <ul>
<li><a href="#%E6%A0%B8%E5%BF%83%E9%9C%80%E6%B1%82">核心需求</a></li>
<li><a href="#%E7%B3%BB%E7%BB%9F%E6%90%AD%E5%BB%BA%E6%AD%A5%E9%AA%A4">系统搭建步骤</a></li>
<li><a href="#%E5%88%9D%E7%BA%A7%E6%B0%B4%E5%9F%B9%E7%A7%8D%E6%A4%8D">初级水培种植</a><ul>
<li><a href="#%E5%9F%BA%E7%A1%80%E6%AD%A5%E9%AA%A4">基础步骤</a></li>
<li><a href="#%E6%B0%B4%E5%9F%B9%E8%90%A5%E5%85%BB%E6%B6%B2%E8%B4%AD%E4%B9%B0%E6%8C%87%E5%8D%97">水培营养液购买指南</a></li>
<li><a href="#%E5%BF%83%E5%BE%97">心得</a></li>
</ul>
</li>
<li><a href="#%E4%B8%AD%E7%BA%A7%E6%B0%B4%E5%9F%B9%E7%A7%8D%E6%A4%8D">中级水培种植</a></li>
<li><a href="#%E9%AB%98%E7%BA%A7%E6%B0%B4%E5%9F%B9%E7%A7%8D%E6%A4%8D">高级水培种植</a></li>
</ul>
<h1 id="核心需求"><a href="#核心需求" class="headerlink" title="核心需求"></a>核心需求</h1><table>
<thead>
<tr>
<th>项目</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td><strong>水培容器</strong></td>
<td>放置水溶液和植物根系，可用塑料箱、亚克力槽等</td>
</tr>
<tr>
<td><strong>营养液</strong></td>
<td>提供植物生长所需营养（氮、磷、钾、微量元素）</td>
</tr>
<tr>
<td><strong>光照</strong></td>
<td>人工LED补光，控制光周期，保证光合作用</td>
</tr>
<tr>
<td><strong>水泵&#x2F;气泵</strong></td>
<td>循环水流，或为根部提供氧气</td>
</tr>
<tr>
<td><strong>传感器</strong></td>
<td>温湿度、光照、pH、EC（电导率）、水位等</td>
</tr>
<tr>
<td><strong>控制器</strong></td>
<td>自动调节水泵、灯光、营养液等（可用Arduino、Raspberry Pi、ESP32）</td>
</tr>
<tr>
<td><strong>软件&#x2F;APP</strong></td>
<td>数据监控和远程控制（如Home Assistant）</td>
</tr>
</tbody></table>
<h1 id="初级水培种植"><a href="#初级水培种植" class="headerlink" title="初级水培种植"></a>初级水培种植</h1><h4 id="✅-特点"><a href="#✅-特点" class="headerlink" title="✅ 特点"></a>✅ 特点</h4><ul>
<li>简单易学，适合新手</li>
<li>成本低，材料常见</li>
<li>手动操作为主</li>
</ul>
<h4 id="推荐蔬菜"><a href="#推荐蔬菜" class="headerlink" title="推荐蔬菜"></a>推荐蔬菜</h4><ul>
<li>生菜（奶油生菜、罗马生菜）</li>
<li>空心菜</li>
<li>小白菜、油麦菜</li>
<li>小葱、韭菜</li>
</ul>
<h4 id="🛠-方法"><a href="#🛠-方法" class="headerlink" title="🛠 方法"></a>🛠 方法</h4><ul>
<li>容器：泡沫箱 &#x2F; 塑料桶 + 网杯</li>
<li>基质：珍珠岩 &#x2F; 椰糠 &#x2F; 岩棉</li>
<li>营养液：通用A+B营养液（电导率 EC 0.8~1.2）</li>
<li>换液频率：每 7~10 天手动更换</li>
<li>光照：自然光，每天 4~6 小时</li>
</ul>
<h2 id="基础步骤"><a href="#基础步骤" class="headerlink" title="基础步骤"></a>基础步骤</h2><ul>
<li>（1）水培槽准备<ul>
<li>材质选择：塑料、亚克力、不锈钢均可</li>
<li>深度：根系能伸展即可，一般20–30cm</li>
<li>灌水&#x2F;排水口设计，便于更换营养液</li>
</ul>
</li>
<li>（2）水培基质<ul>
<li>常用材料：岩棉、椰砖、珍珠岩</li>
<li>功能：固定植物，保持根部湿润</li>
</ul>
</li>
<li>（3）营养液配比<ul>
<li>初学者可以购买成品水培营养液</li>
<li>控制EC（电导率）和pH值：<ul>
<li>pH：5.5–6.5</li>
<li>EC：1.0–2.0（根据植物不同调整）</li>
</ul>
</li>
</ul>
</li>
<li>（4）光照系统<ul>
<li>LED生长灯（红蓝光）</li>
<li>光照周期：<ul>
<li>叶菜类：12–16小时&#x2F;天</li>
<li>可用智能插座定时控制</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="水培营养液购买指南"><a href="#水培营养液购买指南" class="headerlink" title="水培营养液购买指南"></a>水培营养液购买指南</h2><h2 id="心得"><a href="#心得" class="headerlink" title="心得"></a>心得</h2><h1 id="中级水培种植"><a href="#中级水培种植" class="headerlink" title="中级水培种植"></a>中级水培种植</h1><h4 id="✅-特点-1"><a href="#✅-特点-1" class="headerlink" title="✅ 特点"></a>✅ 特点</h4><ul>
<li>小型循环系统，提升效率</li>
<li>半自动化管理</li>
<li>可持续多种蔬菜</li>
</ul>
<h4 id="🍀-推荐蔬菜"><a href="#🍀-推荐蔬菜" class="headerlink" title="🍀 推荐蔬菜"></a>🍀 推荐蔬菜</h4><ul>
<li>菠菜</li>
<li>茼蒿</li>
<li>芥蓝</li>
<li>西洋菜</li>
<li>紫苏 &#x2F; 九层塔</li>
</ul>
<h4 id="🛠-方法-1"><a href="#🛠-方法-1" class="headerlink" title="🛠 方法"></a>🛠 方法</h4><ul>
<li>系统：NFT（营养液膜技术）管道循环系统</li>
<li>设备：微型水泵、定时器、LED 补光灯、pH&#x2F;EC 计</li>
<li>营养液管理：每 1014 天更换一次，EC 控制在 0.81.4，pH 在 5.5~6.5</li>
<li>光照：自然光 + LED 补光（每天 8~12 小时）</li>
<li>环境控制：建议放在阳台&#x2F;封闭阳光房中</li>
</ul>
<h1 id="Arduino-自制-自动检测并起补充营养"><a href="#Arduino-自制-自动检测并起补充营养" class="headerlink" title="Arduino 自制 - 自动检测并起补充营养"></a>Arduino 自制 - 自动检测并起补充营养</h1><p>传感器监控 + 泵时间控制 + EC&#x2F;pH目标设定</p>
<h3 id="🌿-系统结构（推荐架构）"><a href="#🌿-系统结构（推荐架构）" class="headerlink" title="🌿 系统结构（推荐架构）"></a>🌿 系统结构（推荐架构）</h3><table>
<thead>
<tr>
<th>模块</th>
<th>功能</th>
<th>建议型号</th>
</tr>
</thead>
<tbody><tr>
<td>Arduino UNO &#x2F; MEGA</td>
<td>主控制板</td>
<td>ESP32（集成Wi-Fi和蓝牙）</td>
</tr>
<tr>
<td><strong>EC 传感器</strong></td>
<td>检测营养液浓度</td>
<td>Gravity EC Sensor（DFRobot）</td>
</tr>
<tr>
<td><strong>pH 传感器</strong></td>
<td>检测酸碱度</td>
<td>Gravity pH Sensor</td>
</tr>
<tr>
<td><strong>温度传感器</strong></td>
<td>修正EC读数</td>
<td>DS18B20</td>
</tr>
<tr>
<td><strong>蠕动泵 × 4</strong></td>
<td>A液、B液、pH-、pH+</td>
<td>12V 微型蠕动泵</td>
</tr>
<tr>
<td><strong>继电器模块</strong></td>
<td>控制泵通断</td>
<td>4通道继电器</td>
</tr>
<tr>
<td><strong>搅拌马达（可选）</strong></td>
<td>混合营养液</td>
<td>5V&#x2F;12V 直流电机</td>
</tr>
<tr>
<td><strong>LCD&#x2F;OLED 屏幕</strong></td>
<td>显示 EC、pH、状态</td>
<td>1602 或 0.96 OLED</td>
</tr>
<tr>
<td><strong>按钮或Wi-Fi模块（ESP8266）</strong></td>
<td>设定目标参数</td>
<td>方便远程调节</td>
</tr>
</tbody></table>
<h3 id="⚙️-工作逻辑（核心控制思路）"><a href="#⚙️-工作逻辑（核心控制思路）" class="headerlink" title="⚙️ 工作逻辑（核心控制思路）"></a>⚙️ 工作逻辑（核心控制思路）</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Loop:</span><br><span class="line">  读取当前 EC 与 pH</span><br><span class="line">  如果 EC &lt; 目标值：</span><br><span class="line">      启动 A泵 和 B泵（时间相同）</span><br><span class="line">      停止后搅拌5秒</span><br><span class="line">  如果 pH &gt; 6.5：</span><br><span class="line">      启动 pH- 泵（加酸）</span><br><span class="line">  如果 pH &lt; 5.5：</span><br><span class="line">      启动 pH+ 泵（加碱）</span><br><span class="line">  等待30秒，重复检测</span><br></pre></td></tr></table></figure>

<h3 id="可直接运行的-Arduino-自动水培营养液控制程序。"><a href="#可直接运行的-Arduino-自动水培营养液控制程序。" class="headerlink" title="可直接运行的 Arduino 自动水培营养液控制程序。"></a>可直接运行的 Arduino 自动水培营养液控制程序。</h3><p>这个程序包括：</p>
<p>✅ EC检测<br>✅ pH检测<br>✅ A&#x2F;B营养液自动配比<br>✅ pH自动调节<br>✅ 搅拌控制<br>✅ 参数可修改</p>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><p><a target="_blank" rel="noopener" href="https://www.reddit.com/r/Hydroponics/comments/nbii8y/next_step_in_hydroponics_greenhouse_ph_ec_temp/?tl=zh-hans">水培温室的下一步。带液晶显示屏的 pH 值、EC 值、温度计。将来会通过 i2c 将数据发送到树莓派。</a></p>
<h1 id="🥦-高级水培种植"><a href="#🥦-高级水培种植" class="headerlink" title="🥦 高级水培种植"></a>🥦 高级水培种植</h1><h4 id="✅-特点-2"><a href="#✅-特点-2" class="headerlink" title="✅ 特点"></a>✅ 特点</h4><ul>
<li>全自动控制系统</li>
<li>稳定高产，适合商业</li>
<li>技术要求高，可远程管理</li>
</ul>
<h4 id="🍀-推荐蔬菜-作物"><a href="#🍀-推荐蔬菜-作物" class="headerlink" title="🍀 推荐蔬菜 &#x2F; 作物"></a>🍀 推荐蔬菜 &#x2F; 作物</h4><ul>
<li>番茄</li>
<li>黄瓜</li>
<li>青椒、彩椒</li>
<li>草莓</li>
<li>香草（罗勒、百里香等）</li>
</ul>
<h4 id="🛠-方法-2"><a href="#🛠-方法-2" class="headerlink" title="🛠 方法"></a>🛠 方法</h4><ul>
<li>系统类型：<ul>
<li>DWC（深水培）</li>
<li>滴灌式</li>
<li>雾培（AeroPonics）</li>
</ul>
</li>
<li>控制系统：<ul>
<li>自动营养液配比</li>
<li>温湿度传感器、pH&#x2F;EC 自动监控</li>
<li>接入 Home Assistant &#x2F; Node-RED 实现自动化</li>
</ul>
</li>
<li>光照管理：LED植物灯 + 光照时控系统</li>
<li>CO₂&#x2F;环境控制：封闭温室或小型 Grow Tent</li>
</ul>
<p>📈 晋级路线建议</p>
<table>
<thead>
<tr>
<th>当前级别</th>
<th>升级方式</th>
<th>所需技能</th>
</tr>
</thead>
<tbody><tr>
<td>初级 → 中级</td>
<td>添加 NFT 循环系统 + 简单补光</td>
<td>简单电工，照明布线</td>
</tr>
<tr>
<td>中级 → 高级</td>
<td>增加传感器，接入自动化控制系统</td>
<td>YAML 配置，HA 自动化基础</td>
</tr>
<tr>
<td>高级 → 商业</td>
<td>建立温室，部署全环境智能控制系统</td>
<td>IoT + 农业自动化系统知识</td>
</tr>
</tbody></table>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2025/11/27/java-interview/">
                Java 面试题
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2025-11-27</span>
            
            
            
                <span class="category">
                    <a href="/categories/面试/">面试</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p>四种幂等性解决方案？<br>straem</p>
<ul>
<li><a href="#1">基础</a><ul>
<li><a href="#1.1">JVM、JDK、JRE三者关系</a></li>
<li><a href="#1.2">final、finally、finalize 的区别</a></li>
<li><a href="#1.3">深拷贝和浅拷贝的区别</a></li>
<li><a href="#1.3">BIO、NIO、AIO 之间的区别</a></li>
<li><a href="#1.3">泛型，类型擦除，常用的通配符</a></li>
<li><a href="#1.3">loC，DI，AOP</a></li>
</ul>
</li>
<li><a href="#2">集合框架</a><ul>
<li><a href="#2.1">ArrayList 和 LinkedList 的区别</a></li>
<li><a href="#2.2">TreeMap 和 HashMap 的区别</a></li>
</ul>
</li>
<li><a href="#3">并发</a><ul>
<li><a href="#3.1">并行跟并发区别</a></li>
<li><a href="#2.2">sleep和wait的区别</a></li>
<li><a href="#2.3"></a></li>
</ul>
</li>
<li><a href="#4">内存</a><ul>
<li><a href="#4.1">CG</a></li>
</ul>
</li>
<li><a href="#4">微服务之间通信方式 rpc Grpc http</a></li>
</ul>
<h3 id="1">基础</h3>

<h3 id="3">并发 sync</h3>

<p>sync.waitgroup, sync.map ,sync.Lock, sync.RWLock，sync.Pool….</p>
<h4 id="3.1">通道 - channel</h4>
<h4 id="3.2">并发Map - sync.Map</h4>
<h4 id="3.2">线程池 - sync.Pool</h4>

<p>sync.Pool 其实就是一个线程安全的对象池，用于保存和复用临时对象，，在大批量申请和释放相同类型的临时对象时使用 sync.Pool 可以减少很多内存分配和回收操作，减小GC压力。</p>
<h4 id="3.3">互斥锁 Mutex 与 读写锁 RWMutex 区别</h4>

<p><a href="">锁系列</a></p>
<h4 id="1.2">make和new区别 </h4>

<ul>
<li>make和new都是golang用来分配内存的內建函数，且在堆上分配内存，make 即分配内存，也初始化内存。new只是将内存清零，并没有初始化内存。</li>
<li>make返回的还是引用类型本身；而new返回的是指向类型的指针。</li>
<li>make只能用来分配及初始化类型为slice，map，channel的数据；new可以分配任意类型的数据。</li>
</ul>
<h4 id="1.3">数组和切片区别 </h4>

<ul>
<li>数组是一个长度固定的数据类型，其长度在定义时就已经确定，内存空间大小是固定；切片是一个长度可变的数据类型，内存空间运行时动态分配，其长度在定义时可以为空，也可以指定一个初始长度 append追加切片</li>
<li>当数组作为函数参数时，函数操作的是数组的一个副本，不会影响原始数组；当切片作为函数参数时，函数操作的是切片的引用，会影响原始切片</li>
</ul>
<h3 id="2">GMP协程调度器</h3>

<blockquote>
<p>内核线程-thread(Machine)，协程(Goroutine)，处理器-G的上下文环境（Processor）</p>
<ul>
<li>G：goroutine协程，基于协程建立的用户态线程</li>
<li>M：machine，它直接关联一个os内核线程，用于执行G</li>
<li>P：processor处理器，P里面一般会存当前goroutine运行的上下文环境（函数指针，堆栈地址及地址边界），P会对自己管理的goroutine队列做一些调度</li>
</ul>
</blockquote>
<p><img src="/images/GMP-%E6%A8%A1%E5%9E%8B.png"></p>
<h4 id="2.1"> 调度器策略 </h4>

<ul>
<li>全局G队列 - 通过<code>go func()</code>来创建一个goroutine,有两个存储G的队列，一个是局部调度器P的本地队列、一个是全局G队列。新创建的G会先保存在P的本地队列中，如果P的本地队列已经满了就会保存在全局的队列中</li>
<li>复用线程 - <code>work stealing机制</code>和<code>hand off机制</code>（偷别人的去执行，和自己扔掉执行）,G只能运行在M中，一个M必须持有一个P,M与P是<code>1：1</code>的关系,</li>
</ul>
<p><code>work stealing机制</code>如果P的本地队列为空，就会想其他的MP组合偷取一个可执行的G来执行<br><code>hand off机制</code>当本线程因为G进行系统调用阻塞时，线程释放绑定的P，把P转移给其他空闲的线程执行，此时M1如果长时间阻塞，可能会执行睡眠或销毁</p>
<ul>
<li>利用并行 - 我们可以使用<code>GOMAXPROCS</code>设置P的数量,这样的话最多有<code>GOMAXPROCS</code>个线程分布在多个CPU上同时运行。<code>GOMAXPROCS</code>也限制了并发的程度，比如GOMAXPROCS &#x3D; 核数&#x2F;2，则最多利用了一半的CPU核进行并行</li>
<li>抢占策略 - 1对1模型的调度器，需要等待一个<code>co-routine</code>主动释放后才能轮到下一个进行使用, 如果一个<code>goroutine</code>使用10ms还没执行完，CPU资源就会被其他<code>goroutine</code>所抢占</li>
</ul>
<h4 id="2.2"> 调度器的生命周期</h4> 

<blockquote>
<p>在了解调度器生命周期之前，我们需要了解两个新的角色M0和G0  </p>
<p>M0（跟进程数量绑定，一比一）：</p>
<ul>
<li>启动程序后编号为0的主线程</li>
<li>在全局变量runtime.m0中，不需要在heap上分配</li>
<li>负责执行初始化操作和启动第一个G</li>
<li>启动第一个G之后，M0就和其他的M一样了</li>
</ul>
<p>G0（每个M都会有一个G0）：</p>
<ul>
<li>每次启动一个M，都会第一个创建的gourtine，就是G0</li>
<li>G0仅用于负责调度G</li>
<li>G0不指向任何可执行的函数</li>
<li>每个M都会有一个自己的G0</li>
<li>在调度或系统调用时会使用M切换到G0，再通过G0进行调度</li>
</ul>
<p>M0和G0都是放在全局空间的</p>
</blockquote>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2025/11/27/k8s-basic/">
                K8S
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2025-11-27</span>
            
            
            
                <span class="category">
                    <a href="/categories/运维/">运维</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <ul>
<li><a href="#1">基础</a><ul>
<li><a href="#1.1">核心组件&#x2F;架构</a></li>
<li><a href="#1.1">基础概念</a></li>
<li><a href="#1.1">etcd及其特点&#x2F;适应的场景</a></li>
<li><a href="#1.2">make和new区别</a></li>
<li><a href="#1.3">数组和切片区别</a></li>
</ul>
</li>
<li><a href="#2">GMP协程调度器</a></li>
</ul>
<p><img src="/images/k8s-structure.png"></p>
<p>k8s 主要有 Master 节点和工作节点组成。主节点主要对集群做出全局决策(比如调度)，以及检测和响应集群事件(例如资源不足，自动扩缩容)；从节点负责维护运行的 Pod 并进行通信的网络代理。</p>
<ul>
<li><p>Mater 节点主要有以下组件：</p>
<ul>
<li>kube-apiserver：负责对外暴露 Kubernetes API。</li>
<li>etcd：作为保存 Kubernetes 所有集群数据的后台数据库。</li>
<li>kube-scheduler：在适当的时候进行调度决策，让 Pod 在合适的节点上创建运行。</li>
<li>kube-controller-manager：负责监控调整调整集群的状态，比如故障检测、自动扩展、滚动更新等</li>
</ul>
</li>
<li><p>Node 节点有以下组件：</p>
<ul>
<li>kubelet：主要负责执行、监控由调度器分配的 Pod，相当于是 Master 在每个 Node 节点上的代理。保证 Pod 的运行状态与目标状态一致。</li>
<li>kube-proxy：k8s 在每个节点上的网络代理，负责为 Service 提供集群内部的服务发现和负载均衡。</li>
</ul>
</li>
</ul>
<h4 id="pod"><a href="#pod" class="headerlink" title="pod"></a>pod</h4><ul>
<li>探针 <ul>
<li>liveness</li>
<li>readiness</li>
</ul>
</li>
<li>生命周期</li>
</ul>
<h2 id="Workload-资源调度"><a href="#Workload-资源调度" class="headerlink" title="Workload - 资源调度"></a>Workload - 资源调度</h2><h3 id="StatefulSet-Deployment-DeamonSet的区别"><a href="#StatefulSet-Deployment-DeamonSet的区别" class="headerlink" title="StatefulSet,Deployment,DeamonSet的区别"></a>StatefulSet,Deployment,DeamonSet的区别</h3><ul>
<li><code>Label</code>标签和<code>selector</code>选择器</li>
<li><code>Deployment</code> 用于部署无状态服务<ul>
<li>创建于配置文件解析</li>
<li>滚动更新</li>
<li>回滚版本</li>
<li>更新的暂停和恢复</li>
</ul>
</li>
<li><code>StatefulSet - sts</code> 用来部署有状态服务<ul>
<li>定义一个有状态服务</li>
<li>扩容所容于滚动更新</li>
<li>金丝雀发布</li>
<li></li>
</ul>
</li>
<li><code>DeamonSet</code> 守护进程与任务(日志 系统健康 系统进程)<ul>
<li>应用场景</li>
<li>部署fluent日志</li>
</ul>
</li>
</ul>
<h2 id="Service-服务发现"><a href="#Service-服务发现" class="headerlink" title="Service - 服务发现"></a>Service - 服务发现</h2><h3 id="Servuce与Ingress区别"><a href="#Servuce与Ingress区别" class="headerlink" title="Servuce与Ingress区别"></a>Servuce与Ingress区别</h3><ul>
<li><code>Service - svc</code>svc 集群内部互访 <ul>
<li>service Endpoint pod之间关系</li>
<li>配置</li>
<li>访问外部服务</li>
<li>代理外部域名</li>
</ul>
</li>
<li><code>Ingress</code> 内部暴露给外部<ul>
<li>路由匹配于虚拟主机匹配</li>
</ul>
</li>
</ul>
<h2 id="存储与配置管理"><a href="#存储与配置管理" class="headerlink" title="存储与配置管理"></a>存储与配置管理</h2><ul>
<li><code>ConfigMap</code><br>  * </li>
<li><code>Secret</code></li>
<li><code>PersistentVolume - pv</code> 持久卷 和一半volume一样</li>
<li><code>PersistentVolumeClaim - pvc</code> 持久卷申领 消耗pv资源，以来pv</li>
<li>StorageClass</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 进入pod 容器里面</span></span><br><span class="line">kubectl <span class="built_in">exec</span> -it zk-5959d76d9b-xbmmw -n work  -- /bin/bash</span><br><span class="line"></span><br><span class="line"><span class="comment">## rc</span></span><br><span class="line">kubectl delete rc XX</span><br><span class="line"></span><br><span class="line"><span class="comment">## 删除 pod </span></span><br><span class="line">delete pod zk-5959d76d9b-zsvxf -n work</span><br><span class="line"></span><br><span class="line"><span class="comment">## svc</span></span><br><span class="line">kubectl delete svc XXX</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="部署流程"><a href="#部署流程" class="headerlink" title="部署流程"></a>部署流程</h3><pre class="mermaid">sequenceDiagram
    participant Alice
    participant Bob
    Alice->>John: Hello John, how are you?
    loop Healthcheck
        John->>John: Fight against hypochondria
    end
    Note right of John: Rational thoughts <br/>prevail!
    John-->>Alice: Great!
    John->>Bob: How about you?
    Bob-->>John: Jolly good!</pre>


<h3 id="存储方案-文件挂在"><a href="#存储方案-文件挂在" class="headerlink" title="存储方案 (文件挂在)"></a>存储方案 (文件挂在)</h3><p>helm</p>
<h2 id="排错"><a href="#排错" class="headerlink" title="排错"></a>排错</h2><ul>
<li>kubectl get - 列出资源</li>
<li>kubectl describe - 显示有关资源的详细信息</li>
<li>kubectl logs - 打印 Pod 中容器的日志</li>
<li>kubectl exec - 在 Pod 中的容器上执行命令</li>
</ul>


	<div class="row">
    <embed src="/pdf/k8s-problem-fix.pdf" width="100%" height="550" type="application/pdf">
	</div>




<h3 id="k8s通过deployment创建pod失败排查"><a href="#k8s通过deployment创建pod失败排查" class="headerlink" title="k8s通过deployment创建pod失败排查"></a>k8s通过deployment创建pod失败排查</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看deployment的信息</span></span><br><span class="line">kubectl describe deployment mysql -n db</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看pod有啥东西</span></span><br><span class="line">kubectl get pod -n db </span><br><span class="line"><span class="comment"># 如何 还是在PodInitializing就用-c 查看哪个容器问题 -c 容器name</span></span><br><span class="line">kubectl logs &lt;pod-name&gt; -c fix-permissions</span><br></pre></td></tr></table></figure>

<h3 id="k8s通过statefulSet创建pod失败排查"><a href="#k8s通过statefulSet创建pod失败排查" class="headerlink" title="k8s通过statefulSet创建pod失败排查"></a>k8s通过statefulSet创建pod失败排查</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如何 还是在PodInitializing就用-c 查看哪个容器问题 -c 容器name</span></span><br><span class="line">kubectl logs mongo-0  -n db  --all-containers</span><br></pre></td></tr></table></figure>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2025/11/27/kali/">
                Kali
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2025-11-27</span>
            
            
            
                <span class="category">
                    <a href="/categories/渗透/">渗透</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p><a target="_blank" rel="noopener" href="https://www.freebuf.com/sectool/420393.html">kali</a></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2025/11/27/kerberos/">
                Kerberos
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2025-11-27</span>
            
            
            
                <span class="category">
                    <a href="/categories/知/">知</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h2 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h2><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903955416219661">引用-看完您如果还不明白 Kerberos 原理</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/liugp/p/16468514.html">Kerberos认证原理与环境部署</a></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2025/11/27/lang-version/">
                各类版本控制管理
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2025-11-27</span>
            
            
            
                <span class="category">
                    <a href="/categories/研发工具/">研发工具</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <h2 id="语言版本控制管理"><a href="#语言版本控制管理" class="headerlink" title="语言版本控制管理"></a>语言版本控制管理</h2><h3 id="nodejs-nvm"><a href="#nodejs-nvm" class="headerlink" title="nodejs -&gt; nvm"></a>nodejs -&gt; nvm</h3><blockquote>
<p>提示前提：必须装nodejs</p>
</blockquote>
<h4 id="shell设置"><a href="#shell设置" class="headerlink" title="shell设置"></a>shell设置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /opt/homebrew/opt/nvm/nvm.sh</span><br></pre></td></tr></table></figure>

<h4 id="一般命令"><a href="#一般命令" class="headerlink" title="一般命令"></a>一般命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nvm list available  <span class="comment"># Windows</span></span><br><span class="line">nvm ls-remote <span class="comment"># linux 显示所有可下载的版本</span></span><br><span class="line"></span><br><span class="line">nvm install 11.13.0 <span class="comment"># 安装11.13.0版本</span></span><br><span class="line"></span><br><span class="line">nvm use 11.13.0 <span class="comment"># 使用当前版本</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>提示！~查看npm包是否有了</p>
</blockquote>
<h3 id="python-pyenv"><a href="#python-pyenv" class="headerlink" title="python -&gt; pyenv"></a>python -&gt; pyenv</h3><blockquote>
<p>提示前提：必须装python</p>
</blockquote>
<h4 id="shell设置-1"><a href="#shell设置-1" class="headerlink" title="shell设置"></a>shell设置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /opt/homebrew/opt/nvm/nvm.sh</span><br></pre></td></tr></table></figure>

<h4 id="一般命令-1"><a href="#一般命令-1" class="headerlink" title="一般命令"></a>一般命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pyenv version</span><br><span class="line">pyenv install --list  <span class="comment"># 查看版本</span></span><br><span class="line"></span><br><span class="line">pyenv install 3.11.0</span><br><span class="line"></span><br><span class="line">pyenv global 3.7.4 <span class="comment"># Python版本全局生效</span></span><br><span class="line"></span><br><span class="line">pyenv <span class="built_in">local</span> 3.7.4 <span class="comment"># 指定的目录下生效，那可以使用pyenv local命令修改</span></span><br></pre></td></tr></table></figure>

<h3 id="golang-gvm"><a href="#golang-gvm" class="headerlink" title="golang -&gt; gvm"></a>golang -&gt; gvm</h3><blockquote>
<p>提示前提：必须装golang</p>
</blockquote>
<h4 id="shell设置-2"><a href="#shell设置-2" class="headerlink" title="shell设置"></a>shell设置</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[ -s <span class="string">&quot;<span class="variable">$HOME</span>/.gvm/scripts/gvm&quot;</span> ]] &amp;&amp; <span class="built_in">source</span> <span class="string">&quot;<span class="variable">$HOME</span>/.gvm/scripts/gvm&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="一般命令-2"><a href="#一般命令-2" class="headerlink" title="一般命令"></a>一般命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">go version <span class="comment"># 版本</span></span><br><span class="line">gvm listall <span class="comment"># 查看版本</span></span><br><span class="line"></span><br><span class="line">gvm install go1.21.0 <span class="comment"># 安装1.21.0版本</span></span><br><span class="line"></span><br><span class="line">gvm use go1.21.0 --default <span class="comment"># 使用当前版本</span></span><br></pre></td></tr></table></figure>

<h3 id="java-IDEA-切换版本"><a href="#java-IDEA-切换版本" class="headerlink" title="java -&gt; IDEA (切换版本)"></a>java -&gt; IDEA (切换版本)</h3><h3 id="docker-版本管理-开发更方便"><a href="#docker-版本管理-开发更方便" class="headerlink" title="docker 版本管理 开发更方便"></a>docker 版本管理 开发更方便</h3><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/0rz33/dnmp">php-多版本多项目管理-docker-composer</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">http[s]://[你的域名]/72       <span class="comment"># PHP72</span></span><br><span class="line">http[s]://[你的域名]/73       <span class="comment"># PHP73</span></span><br><span class="line">http[s]://[你的域名]/74       <span class="comment"># PHP74</span></span><br><span class="line">http[s]://[你的域名]/80       <span class="comment"># PHP80</span></span><br><span class="line">http[s]://[你的域名]/81       <span class="comment"># PHP81</span></span><br><span class="line">http[s]://[你的域名]/82       <span class="comment"># PHP82</span></span><br><span class="line">http[s]://[你的域名]/83       <span class="comment"># PHP83</span></span><br><span class="line">http[s]://[你的域名]/84       <span class="comment"># PHP84</span></span><br></pre></td></tr></table></figure>
        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2025/11/27/language/">
                世界语言体系
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2025-11-27</span>
            
            
            
                <span class="category">
                    <a href="/categories/语言/">语言</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <pre class="mermaid">flowchart LR
    A[世界七大语系]
    
    A --> B[汉藏语系]
    B --> B1[汉语]
    B1 --> B1B[北方方言]
    B1 --> B1C[吴方言]
    B1 --> B1D[湘方言]
    B1 --> B1E[赣方言]
    B1 --> B1F[客家]
    B1 --> B1G[闽北方言->福州]
    B1 --> B1H[闽南方言]
    B1 --> B1I[粤方言]
    B --> B2[藏缅语]
    B2 --> B2A[缅甸语]
    B2 --> B2B[泰语]
    B2 --> B2C[越南语]
    B2 --> B2D[柬埔寨语]

    A --> C[印欧语系]
    C --> C1[日耳曼语族]
    C1 --> C1A[英语]
    C1 --> C1B[德语]
    C1 --> C1C[荷兰语]
    C --> C2[罗曼语族]
    C2 --> C2A[法语]
    C2 --> C2B[西班牙语]
    C2 --> C2C[意大利语]
    C --> C3[斯拉夫语族]
    C3 --> C3A[俄语]
    C3 --> C3B[波兰语]
    C3 --> C3C[捷克语]
    C --> C4[印度-伊朗语族]
    C4 --> C4A[印地语]
    C4 --> C4B[波斯语]

    A --> D[阿尔泰语系]
    D --> D1[突厥语族]
    D1 --> D1A[土耳其语]
    D --> D2[蒙古语族]
    D2 --> D2A[蒙古语]
    D --> D3[满-通古斯语族]
    D3 --> D3A[满语]

    A --> E[闪含语系]
    E --> E1[阿拉伯语]
    E --> E2[希伯来语]

    A --> F[南岛语系]
    F --> F1[马来语]
    F --> F2[印度尼西亚语]
    F --> F3[他加禄语]
    F3 --> F3A[比萨亚]

    A --> G[尼日尔-科尔多凡语系]
    G --> G1[斯瓦希里语]
    G --> G2[约鲁巴语]

    A --> H[达罗毗荼语系]
    H --> H1[泰米尔语]
    H --> H2[泰卢固语]</pre>
        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2025/11/27/laundry/">
                Laundry
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2025-11-27</span>
            
            
            
                <span class="category">
                    <a href="/categories/新/">新</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <p>✅ 第一阶段：市场定位 + 成本控制（第1-2个月）</p>
<ol>
<li>定位市场人群</li>
</ol>
<ul>
<li>明确服务对象：上班族 &#x2F; 学生 &#x2F; 社区家庭 &#x2F; 酒店短租客户</li>
<li>细分消费层级：<ul>
<li>高端（干洗+配送）：主打精致、快捷</li>
<li>普通（自助+半自助）：主打性价比</li>
</ul>
</li>
<li>调研竞争对手：<ul>
<li>收费标准（按件&#x2F;按公斤）</li>
<li>月客户量、服务品类（洗衣、烘干、熨烫）</li>
</ul>
</li>
<li>估算人流量 × 客单价 &#x3D; 预期月基础收入（做盈亏平衡模型）</li>
</ul>
<ol start="2">
<li>本金与运营成本预算</li>
</ol>
<table>
<thead>
<tr>
<th>项目</th>
<th>预算</th>
<th>频率</th>
</tr>
</thead>
<tbody><tr>
<td>洗衣&#x2F;烘干机</td>
<td>$5,000</td>
<td>一次性</td>
</tr>
<tr>
<td>店铺装修</td>
<td>$3,000</td>
<td>一次性</td>
</tr>
<tr>
<td>员工工资</td>
<td>$500~$800&#x2F;人</td>
<td>每月</td>
</tr>
<tr>
<td>房租</td>
<td>$500~$1,000</td>
<td>每月</td>
</tr>
<tr>
<td>水电</td>
<td>$150~$300</td>
<td>每月</td>
</tr>
<tr>
<td>洗涤耗材</td>
<td>$100~$200</td>
<td>每月</td>
</tr>
</tbody></table>
<p>✅ 第二阶段：资金提升 + 资源整合（第3-4个月）</p>
<ol>
<li>提升资金能力（获取更多本金）</li>
</ol>
<ul>
<li>个人加速存钱：持续执行每月 $1,667 的存储目标</li>
<li>争取支持：<ul>
<li>家庭支持（可返还无息）</li>
<li>合伙人投资（股份制，出钱&#x2F;出力）</li>
<li>小额贷款&#x2F;ABA 信贷产品（适度使用，月供控制在可承受范围）</li>
</ul>
</li>
<li>试运营接单：<ul>
<li>提前开通线上平台（Facebook、Telegram、小红书）</li>
<li>为亲朋好友提供预洗服务，积累信任和口碑</li>
<li>用空档机器试接社区客户，测试系统流程</li>
</ul>
</li>
</ul>
<ol start="2">
<li>整合资源，做轻运营试投放</li>
</ol>
<ul>
<li>采购二手设备代替部分新机（降低初始成本）</li>
<li>与本地干洗厂合作，前期只做收发点（轻资产试运行）</li>
<li>自建小程序&#x2F;表单：客户下单 → 通知打印 → 交衣&#x2F;取衣提醒</li>
<li>员工外包+家人兼职：节省人力成本</li>
</ul>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2025/11/27/linux-emergency-response/">
                Linux应急响应
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2025-11-27</span>
            
            
            
                <span class="category">
                    <a href="/categories/Linux/">Linux</a>
                </span>
            
        </div>
    </div>

    
        <div class="content">
            <ul>
<li><a href="#1">入侵排查思路</a><ul>
<li><a href="#1.1">账号安全</a></li>
<li><a href="#1.2">历史命令</a></li>
<li><a href="#1.3">检查异常端口</a></li>
<li><a href="#1.4">检查异常进程</a></li>
<li><a href="#1.5">检查开机启动项</a></li>
<li><a href="#1.6">检查定时任务</a></li>
<li><a href="#1.7">检查服务</a></li>
<li><a href="#1.8">检查异常文件</a></li>
<li><a href="#1.9">检查系统日志</a></li>
</ul>
</li>
<li><a href="#2">工具</a><ul>
<li><a href="#2.1">Rootkit查杀</a></li>
<li><a href="#2.2">病毒查杀</a></li>
<li><a href="#2.3">webshell查杀</a></li>
<li><a href="#2.4">RPM check检查</a></li>
<li><a href="#2.5">linux安全检查脚本</a></li>
</ul>
</li>
<li><a href="#3">常见网络安全攻击特征</a></li>
<li><a href="#4">Linux数据传输</a></li>
</ul>
<h3 id="1">入侵排查思路</h3>

<ol>
<li><p>了解清楚事件发生时间点、事件有什么特征、服务器的用途、服务器上部署的应用组件、已做过那些应急措施，禁忌上来就一顿操作；</p>
</li>
<li><p>大概思考下能沾边的网络攻击特征，同时根据服务器版本以及服务器上部署的组件看看近期是否有nday漏洞，有时匹配上了可以节约一大部分时间；</p>
</li>
<li><p>根据已部署的安全设备，快速看看异常事件以及已攻击成功的事件；</p>
</li>
<li><p>上机排查，使用busybox套装防止发生预期以外的情况，使用磁盘备份（dd）进行整个备份，或手工备份日志以及一些易被覆盖的系统文件，如：.viminfo、history，使用LiME（Linux Memory Extractor）备份服务器内存，或者使用手工追加将进程、网络连接状态等进行备份，（虚拟化&#x2F;云环境可直接拍摄快照）；</p>
</li>
<li><p>根据前期了解的情况、事件特征进行排查，若排查到有一定的特征的异常文件或者进程时，可先到网上找找有没有相似案例，可以节约很多时间。</p>
</li>
</ol>
<h4 id="1.1">账号安全</h4>

<ul>
<li>基本使用</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1、用户信息文件</span></span><br><span class="line">/etc/passwd</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">account:password:UID:GID:GECOS:directory:shell</span><br><span class="line"><span class="comment"># 用户名：密码：用户ID：组ID：用户说明：家目录：登陆之后shell</span></span><br><span class="line"><span class="comment">## 注意：无密码只允许本机登陆，远程不允许登陆</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2、影子文件</span></span><br><span class="line">/etc/shadow</span><br><span class="line">root:$6$oGs1PqhL2p3ZetrE<span class="variable">$X7o7bzoouHQVSEmSgsYN5UD4</span>.kMHx6qgbTqwNVC5oOAouXvcjQSt.Ft7ql1WpkopY0UV9ajBwUt1DpYxTCVvI/:16809:0:99999:7:::</span><br><span class="line"><span class="comment">#用户名：加密密码：密码最后一次修改日期：两次密码的修改时间间隔：密码有效期：密码修改到期到的警告天数：密码过期之后的宽限天数：账号失效时间：保留</span></span><br><span class="line"><span class="comment"># who     查看当前登录用户（tty本地登陆  pts远程登录）</span></span><br><span class="line"><span class="comment"># w       查看系统信息，想知道某一时刻用户的行为</span></span><br><span class="line"><span class="comment"># uptime  查看登陆多久、多少用户，负载</span></span><br></pre></td></tr></table></figure>
<ul>
<li>入侵排查</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1、查询特权用户特权用户(uid 为0)</span></span><br><span class="line">awk -F: <span class="string">&#x27;$3==0&#123;print $1&#125;&#x27;</span> /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2、查询可以远程登录的帐号信息</span></span><br><span class="line">awk <span class="string">&#x27;/\$1|\$6/&#123;print $1&#125;&#x27;</span> /etc/shadow</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3、除root帐号外，其他帐号是否存在sudo权限。如非管理需要，普通帐号应删除sudo权限</span></span><br><span class="line">more /etc/sudoers | grep -v <span class="string">&quot;^#\|^$&quot;</span> | grep <span class="string">&quot;ALL=(ALL)&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4、禁用或删除多余及可疑的帐号</span></span><br><span class="line">usermod -L user    <span class="comment"># 禁用帐号，帐号无法登录，/etc/shadow第二栏为!开头</span></span><br><span class="line">userdel user       <span class="comment"># 删除user用户</span></span><br><span class="line">userdel -r user    <span class="comment"># 将删除user用户，并且将/home目录下的user目录一并删除</span></span><br></pre></td></tr></table></figure>


<h4 id="1.2">历史命令</h4>

<ul>
<li>基本使用</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过.bash_history查看帐号执行过的系统命令</span></span><br><span class="line"><span class="comment"># 1、root的历史命令</span></span><br><span class="line">histroy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2、打开/home各帐号目录下的.bash_history，查看普通帐号的历史命令</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 为历史的命令增加登录的IP地址、执行命令时间等信息：</span></span><br><span class="line"><span class="comment">## 1）保存1万条命令</span></span><br><span class="line">sed -i <span class="string">&#x27;s/^HISTSIZE=1000/HISTSIZE=10000/g&#x27;</span> /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment">## 2）在/etc/profile的文件尾部添加如下行数配置信息：</span></span><br><span class="line"><span class="comment">######jiagu history xianshi#########</span></span><br><span class="line">USER_IP=`<span class="built_in">who</span> -u am i 2&gt;/dev/null | awk <span class="string">&#x27;&#123;print $NF&#125;&#x27;</span> | sed -e <span class="string">&#x27;s/[()]//g&#x27;</span>`</span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$USER_IP</span>&quot;</span> = <span class="string">&quot;&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">USER_IP=`hostname`</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">export</span> HISTTIMEFORMAT=<span class="string">&quot;%F %T <span class="variable">$USER_IP</span> `whoami` &quot;</span></span><br><span class="line"><span class="built_in">shopt</span> -s histappend</span><br><span class="line"><span class="built_in">export</span> PROMPT_COMMAND=<span class="string">&quot;history -a&quot;</span></span><br><span class="line"><span class="comment">######### jiagu history xianshi ##########</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3）让配置生效</span></span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment">#生成效果： </span></span><br><span class="line">1  2018-07-10 19:45:39 192.168.204.1 root <span class="built_in">source</span> /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3、历史操作命令的清除：</span></span><br><span class="line"><span class="built_in">history</span> -c</span><br><span class="line"><span class="comment">## 但此命令并不会清除保存在文件中的记录，因此需要手动删除.bash_profile文件中的记录。</span></span><br></pre></td></tr></table></figure>
<ul>
<li>入侵排查</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入用户目录下</span></span><br><span class="line"><span class="built_in">cat</span> .bash_history &gt;&gt; history.txt</span><br></pre></td></tr></table></figure>

<h4 id="1.3">检查异常端口</h4>

<p>使用netstat 网络连接命令，分析可疑端口、IP、PID</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">netstat -antlp|more</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看下pid所对应的进程文件路径，</span></span><br><span class="line"><span class="built_in">ls</span> -l /proc/<span class="variable">$PID</span>/exe或file /proc/<span class="variable">$PID</span>/exe（<span class="variable">$PID</span> 为对应的pid 号）</span><br></pre></td></tr></table></figure>

<h4 id="1.4">检查异常进程</h4>

<p>使用ps命令，分析进程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux | grep pid</span><br></pre></td></tr></table></figure>

<h4 id="1.5">检查开机启动项</h4>

<ul>
<li>基本使用<br>系统运行级别示意图：</li>
</ul>
<table>
<thead>
<tr>
<th>运行级别</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>关机</td>
</tr>
<tr>
<td>1</td>
<td>单用户模式，可以想象为windows的安全模式，主要用于系统修复</td>
</tr>
<tr>
<td>2</td>
<td>不完全的命令行模式，不含NFS服务</td>
</tr>
<tr>
<td>3</td>
<td>完全的命令行模式，就是标准字符界面</td>
</tr>
<tr>
<td>4</td>
<td>系统保留</td>
</tr>
<tr>
<td>5</td>
<td>图形模式</td>
</tr>
<tr>
<td>6</td>
<td>重启动</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看运行级别命令 </span></span><br><span class="line">runlevel</span><br><span class="line"></span><br><span class="line"><span class="comment"># 系统默认允许级别</span></span><br><span class="line"></span><br><span class="line">vi  /etc/inittab</span><br><span class="line"><span class="built_in">id</span>=3：initdefault  <span class="comment"># 系统开机后直接进入哪个运行级别</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 开机启动配置文件</span></span><br><span class="line">/etc/rc.local</span><br><span class="line">/etc/rc.d/rc[0~6].d</span><br><span class="line"><span class="comment"># 例子:当我们需要开机启动自己的脚本时，只需要将可执行脚本丢在/etc/init.d目录下，然后在/etc/rc.d/rc*.d中建立软链接即可</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ln</span> -s /etc/init.d/sshd /etc/rc.d/rc3.d/S100ssh</span><br><span class="line"><span class="comment"># 此处sshd是具体服务的脚本文件，S100ssh是其软链接，S开头代表加载时自启动；如果是K开头的脚本文件，代表运行级别加载时需要关闭的。</span></span><br></pre></td></tr></table></figure>
<ul>
<li>入侵排查</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动项文件 </span></span><br><span class="line">more /etc/rc.local /etc/rc.d/rc[0~6].d <span class="built_in">ls</span> -l /etc/rc.d/rc3.d/</span><br></pre></td></tr></table></figure>
<h4 id="1.6">检查定时任务</h4>

<ul>
<li>基本使用</li>
</ul>
<h5 id="1-利用crontab创建计划任务"><a href="#1-利用crontab创建计划任务" class="headerlink" title="1. 利用crontab创建计划任务"></a>1. 利用crontab创建计划任务</h5><h6 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">crontab -l <span class="comment"># 列出某个用户cron服务的详细内容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## Tips：默认编写的crontab文件会保存在 (/var/spool/cron/用户名 例如: /var/spool/cron/root</span></span><br><span class="line"></span><br><span class="line">crontab -r <span class="comment"># 删除每个用户cront任务(谨慎：删除所有的计划任务)</span></span><br><span class="line"></span><br><span class="line">crontab -e <span class="comment"># 使用编辑器编辑当前的crontab文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 如：</span></span><br><span class="line">/1 * <span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span> &gt;&gt; /tmp/test.txt 每分钟写入文件</span><br></pre></td></tr></table></figure>

<h5 id="2-利用anacron实现异步定时任务调度"><a href="#2-利用anacron实现异步定时任务调度" class="headerlink" title="2. 利用anacron实现异步定时任务调度"></a>2. 利用anacron实现异步定时任务调度</h5><h6 id="使用案例"><a href="#使用案例" class="headerlink" title="使用案例"></a>使用案例</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># 每天运行 /home/backup.sh脚本： </span></span><br><span class="line">vi /etc/anacrontab @daily 10 example.daily /bin/bash /home/backup.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># 当机器在 backup.sh 期望被运行时是关机的，anacron会在机器开机十分钟之后运行它，而不用再等待 7天。</span></span><br></pre></td></tr></table></figure>

<ul>
<li>入侵排查</li>
</ul>
<p>重点关注以下目录中是否存在恶意脚本</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">/var/spool/cron/* </span><br><span class="line">/etc/crontab</span><br><span class="line">/etc/cron.d/*</span><br><span class="line">/etc/cron.daily/* </span><br><span class="line">/etc/cron.hourly/* </span><br><span class="line">/etc/cron.monthly/*</span><br><span class="line">/etc/cron.weekly/</span><br><span class="line">/etc/anacrontab</span><br><span class="line">/var/spool/anacron/*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 小技巧：</span></span><br><span class="line">more /etc/cron.daily/*  <span class="comment"># 查看目录下所有文件</span></span><br></pre></td></tr></table></figure>

<h4 id="1.7">检查服务</h4>

<ul>
<li>服务自启动</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 第一种修改方法：</span></span><br><span class="line">chkconfig [--level 运行级别] [独立服务名] [on|off]</span><br><span class="line">chkconfig –level  2345 httpd on  开启自启动</span><br><span class="line">chkconfig httpd on （默认level是2345）</span><br><span class="line"></span><br><span class="line"><span class="comment">#第二种修改方法：</span></span><br><span class="line">修改/etc/re.d/rc.local 文件  </span><br><span class="line">加入 /etc/init.d/httpd start</span><br><span class="line"></span><br><span class="line"><span class="comment"># 第三种修改方法：</span></span><br><span class="line"><span class="comment"># 使用ntsysv命令管理自启动，可以管理独立服务和xinetd服务。</span></span><br><span class="line">ntsysv</span><br></pre></td></tr></table></figure>
<ul>
<li>入侵排查</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 1、查询已安装的服务：</span></span><br><span class="line"><span class="comment"># RPM包安装的服务</span></span><br><span class="line">chkconfig  --list  <span class="comment"># 查看服务自启动状态，可以看到所有的RPM包安装的服务</span></span><br><span class="line">ps aux | grep crond <span class="comment"># 查看当前服务</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 系统在3与5级别下的启动项 </span></span><br><span class="line"><span class="comment">## 中文环境</span></span><br><span class="line">chkconfig --list | grep <span class="string">&quot;3:启用\|5:启用&quot;</span></span><br><span class="line"><span class="comment">## 英文环境</span></span><br><span class="line">chkconfig --list | grep <span class="string">&quot;3:on\|5:on&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 源码包安装的服务</span></span><br><span class="line"><span class="comment"># 查看服务安装位置</span></span><br><span class="line">/user/local/</span><br><span class="line"></span><br><span class="line">service httpd start</span><br><span class="line"><span class="comment"># 搜索/etc/rc.d/init.d/  查看是否存在</span></span><br></pre></td></tr></table></figure>

<h4 id="1.8">检查异常文件</h4>

<ol>
<li>查看敏感目录，如&#x2F;tmp目录下的文件，同时注意隐藏文件夹，以“..”为名的文件夹具有隐藏属性</li>
<li>得到发现WEBSHELL、远控木马的创建时间，如何找出同一时间范围内创建的文件？<br> 可以使用find命令来查找，如 <code>find /opt -iname &quot;*&quot; -atime 1 -type f </code>找出 &#x2F;opt 下一天前访问过的文件</li>
<li>针对可疑文件可以使用stat进行创建修改时间。</li>
</ol>
<h4 id="1.9">检查系统日志</h4>

<p>日志默认存放位置：&#x2F;var&#x2F;log&#x2F;</p>
<p>查看日志配置情况：more &#x2F;etc&#x2F;rsyslog.conf</p>
<table>
<thead>
<tr>
<th>日志文件</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;var&#x2F;log&#x2F;cron</td>
<td>记录了系统定时任务相关的日志</td>
</tr>
<tr>
<td>&#x2F;var&#x2F;log&#x2F;cups</td>
<td>记录打印信息的日志</td>
</tr>
<tr>
<td>&#x2F;var&#x2F;log&#x2F;dmesg</td>
<td>记录了系统在开机时内核自检的信息，也可以使用dmesg命令直接查看内核自检信息</td>
</tr>
<tr>
<td>&#x2F;var&#x2F;log&#x2F;mailog</td>
<td>记录邮件信息</td>
</tr>
<tr>
<td>&#x2F;var&#x2F;log&#x2F;message</td>
<td>记录系统重要信息的日志。这个日志文件中会记录Linux系统的绝大多数重要信息，如果系统出现问题时，首先要检查的就应该是这个日志文件</td>
</tr>
<tr>
<td>&#x2F;var&#x2F;log&#x2F;btmp</td>
<td>记录错误登录日志，这个文件是二进制文件，不能直接vi查看，而要使用lastb命令查看</td>
</tr>
<tr>
<td>&#x2F;var&#x2F;log&#x2F;lastlog</td>
<td>记录系统中所有用户最后一次登录时间的日志，这个文件是二进制文件，不能直接vi，而要使用lastlog命令查看</td>
</tr>
<tr>
<td>&#x2F;var&#x2F;log&#x2F;wtmp</td>
<td>永久记录所有用户的登录、注销信息，同时记录系统的启动、重启、关机事件。同样这个文件也是一个二进制文件，不能直接vi，而需要使用last命令来查看</td>
</tr>
<tr>
<td>&#x2F;var&#x2F;log&#x2F;utmp</td>
<td>记录当前已经登录的用户信息，这个文件会随着用户的登录和注销不断变化，只记录当前登录用户的信息。同样这个文件不能直接vi，而要使用w,who,users等命令来查询</td>
</tr>
<tr>
<td>&#x2F;var&#x2F;log&#x2F;secure</td>
<td>记录验证和授权方面的信息，只要涉及账号和密码的程序都会记录，比如SSH登录，su切换用户，sudo授权，甚至添加用户和修改用户密码都会记录在这个日志文件中</td>
</tr>
</tbody></table>
<p>日志分析技巧：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1、定位有多少IP在爆破主机的root帐号：    </span></span><br><span class="line">grep <span class="string">&quot;Failed password for root&quot;</span> /var/log/secure | awk <span class="string">&#x27;&#123;print $11&#125;&#x27;</span> | <span class="built_in">sort</span> | <span class="built_in">uniq</span> -c | <span class="built_in">sort</span> -nr | more</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定位有哪些IP在爆破：</span></span><br><span class="line">grep <span class="string">&quot;Failed password&quot;</span> /var/log/secure|grep -E -o <span class="string">&quot;(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)&quot;</span>|<span class="built_in">uniq</span> -c</span><br><span class="line"></span><br><span class="line"><span class="comment"># 爆破用户名字典是什么？</span></span><br><span class="line"> grep <span class="string">&quot;Failed password&quot;</span> /var/log/secure|perl -e <span class="string">&#x27;while($_=&lt;&gt;)&#123; /for(.*?) from/; print &quot;$1\n&quot;;&#125;&#x27;</span>|<span class="built_in">uniq</span> -c|<span class="built_in">sort</span> -nr</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2、登录成功的IP有哪些：     </span></span><br><span class="line">grep <span class="string">&quot;Accepted &quot;</span> /var/log/secure | awk <span class="string">&#x27;&#123;print $11&#125;&#x27;</span> | <span class="built_in">sort</span> | <span class="built_in">uniq</span> -c | <span class="built_in">sort</span> -nr | more</span><br><span class="line"></span><br><span class="line"><span class="comment"># 登录成功的日期、用户名、IP：</span></span><br><span class="line">grep <span class="string">&quot;Accepted &quot;</span> /var/log/secure | awk <span class="string">&#x27;&#123;print $1,$2,$3,$9,$11&#125;&#x27;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># 3、增加一个用户kali日志：</span></span><br><span class="line">Jul 10 00:12:15 localhost useradd[2382]: new group: name=kali, GID=1001</span><br><span class="line">Jul 10 00:12:15 localhost useradd[2382]: new user: name=kali, UID=1001, GID=1001, home=/home/kali</span><br><span class="line">, shell=/bin/bash</span><br><span class="line">Jul 10 00:12:58 localhost passwd: pam_unix(passwd:chauthtok): password changed <span class="keyword">for</span> kali</span><br><span class="line"><span class="comment">#grep &quot;useradd&quot; /var/log/secure </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 4、删除用户kali日志：</span></span><br><span class="line">Jul 10 00:14:17 localhost userdel[2393]: delete user <span class="string">&#x27;kali&#x27;</span></span><br><span class="line">Jul 10 00:14:17 localhost userdel[2393]: removed group <span class="string">&#x27;kali&#x27;</span> owned by <span class="string">&#x27;kali&#x27;</span></span><br><span class="line">Jul 10 00:14:17 localhost userdel[2393]: removed shadow group <span class="string">&#x27;kali&#x27;</span> owned by <span class="string">&#x27;kali&#x27;</span></span><br><span class="line"><span class="comment"># grep &quot;userdel&quot; /var/log/secure</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 5、su切换用户：</span></span><br><span class="line">Jul 10 00:38:13 localhost su: pam_unix(su-l:session): session opened <span class="keyword">for</span> user good by root(uid=0)</span><br><span class="line"></span><br><span class="line"><span class="comment"># sudo授权执行:</span></span><br><span class="line"><span class="built_in">sudo</span> -l</span><br><span class="line">Jul 10 00:43:09 localhost <span class="built_in">sudo</span>:    good : TTY=pts/4 ; PWD=/home/good ; USER=root ; COMMAND=/sbin/shutdown -r now</span><br></pre></td></tr></table></figure>

<p>软件包管理器log：</p>
<table>
<thead>
<tr>
<th>操作系统</th>
<th>格式</th>
<th>工具</th>
</tr>
</thead>
<tbody><tr>
<td>Debian</td>
<td>.deb</td>
<td>apt, apt-cache, apt-get, dpkg</td>
</tr>
<tr>
<td>Ubuntu</td>
<td>.deb</td>
<td>apt, apt-cache, apt-get, dpkg</td>
</tr>
<tr>
<td>CentOS</td>
<td>.rpm</td>
<td>yum</td>
</tr>
<tr>
<td>Fedora</td>
<td>.rpm</td>
<td>dnf</td>
</tr>
<tr>
<td>FreeBSD</td>
<td>Ports, .txz</td>
<td>make, pkg</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 软件安装升级卸载日志：</span></span><br><span class="line">~~~yum install gcc yum install gcc</span><br><span class="line"></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">more /var/log/yum.log</span><br></pre></td></tr></table></figure>

<h3 id="2">工具</h3>
<h4 id="2.1">Rootkit查杀</h4>

<ul>
<li><a target="_blank" rel="noopener" href="http://www.chkrootkit.org/">chkrootkit</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用方法：</span></span><br><span class="line">wget ftp://ftp.pangeia.com.br/pub/seg/pac/chkrootkit.tar.gz</span><br><span class="line">tar zxvf chkrootkit.tar.gz</span><br><span class="line"><span class="built_in">cd</span> chkrootkit-0.52</span><br><span class="line">make sense</span><br><span class="line"><span class="comment">#编译完成没有报错的话执行检查</span></span><br><span class="line">./chkrootkit</span><br></pre></td></tr></table></figure>
<ul>
<li><a target="_blank" rel="noopener" href="http://rkhunter.sourceforge.net/">rkhunter</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用方法：</span></span><br><span class="line">Wget https://nchc.dl.sourceforge.net/project/rkhunter/rkhunter/1.4.4/rkhunter-1.4.4.tar.gz</span><br><span class="line">tar -zxvf rkhunter-1.4.4.tar.gz</span><br><span class="line"><span class="built_in">cd</span> rkhunter-1.4.4</span><br><span class="line">./installer.sh --install</span><br><span class="line">rkhunter -c</span><br></pre></td></tr></table></figure>

<h4 id="2.2">病毒查杀</h4>

<p><a target="_blank" rel="noopener" href="http://www.clamav.net/download.html">Clamav</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 安装方式一：</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1、安装zlib：</span></span><br><span class="line">wget http://nchc.dl.sourceforge.net/project/libpng/zlib/1.2.7/zlib-1.2.7.tar.gz </span><br><span class="line">tar -zxvf  zlib-1.2.7.tar.gz</span><br><span class="line"><span class="built_in">cd</span> zlib-1.2.7</span><br><span class="line"><span class="comment">#安装一下gcc编译环境： yum install gcc</span></span><br><span class="line">CFLAGS=<span class="string">&quot;-O3 -fPIC&quot;</span> ./configure --prefix= /usr/local/zlib/</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2、添加用户组clamav和组成员clamav：</span></span><br><span class="line">groupadd clamav</span><br><span class="line">useradd -g clamav -s /bin/false -c <span class="string">&quot;Clam AntiVirus&quot;</span> clamav</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3、安装Clamav</span></span><br><span class="line">tar –zxvf clamav-0.97.6.tar.gz</span><br><span class="line"><span class="built_in">cd</span> clamav-0.97.6</span><br><span class="line">./configure --prefix=/opt/clamav --disable-clamav -with-zlib=/usr/local/zlib</span><br><span class="line">make</span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4、配置Clamav</span></span><br><span class="line"><span class="built_in">mkdir</span> /opt/clamav/logs</span><br><span class="line"><span class="built_in">mkdir</span> /opt/clamav/updata</span><br><span class="line"><span class="built_in">touch</span> /opt/clamav/logs/freshclam.log</span><br><span class="line"><span class="built_in">touch</span> /opt/clamav/logs/clamd.log</span><br><span class="line"><span class="built_in">cd</span> /opt/clamav/logs</span><br><span class="line"><span class="built_in">chown</span> clamav:clamav clamd.log</span><br><span class="line"><span class="built_in">chown</span> clamav:clamav freshclam.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5、ClamAV 使用：</span></span><br><span class="line"> /opt/clamav/bin/freshclam 升级病毒库</span><br><span class="line">./clamscan –h 查看相应的帮助信息</span><br><span class="line">./clamscan -r /home  扫描所有用户的主目录就使用</span><br><span class="line">./clamscan -r --bell -i /bin  扫描bin目录并且显示有问题的文件的扫描结果</span><br><span class="line"></span><br><span class="line"><span class="comment">## 安装方式二：</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#安装</span></span><br><span class="line">yum install -y clamav</span><br><span class="line"><span class="comment">#更新病毒库</span></span><br><span class="line">freshclam</span><br><span class="line"><span class="comment">#扫描方法</span></span><br><span class="line">clamscan -r /etc --max-dir-recursion=5 -l /root/etcclamav.log</span><br><span class="line">clamscan -r /bin --max-dir-recursion=5 -l /root/binclamav.log</span><br><span class="line">clamscan -r /usr --max-dir-recursion=5 -l /root/usrclamav.log</span><br><span class="line"><span class="comment">#扫描并杀毒</span></span><br><span class="line">clamscan -r  --remove  /usr/bin/bsd-port</span><br><span class="line">clamscan -r  --remove  /usr/bin/</span><br><span class="line">clamscan -r --remove  /usr/local/zabbix/sbin</span><br><span class="line"><span class="comment">#查看日志发现</span></span><br><span class="line"><span class="built_in">cat</span> /root/usrclamav.log |grep FOUND</span><br></pre></td></tr></table></figure>

<h4 id="2.3">webshell查杀</h4>


<ul>
<li><a target="_blank" rel="noopener" href="http://www.shellpub.com/">河马webshell查杀</a></li>
<li><a target="_blank" rel="noopener" href="http://edr.sangfor.com.cn/backdoor_detection.html">深信服Webshell网站后门检测工具</a></li>
</ul>
<h4 id="2.4">RPM check检查</h4>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 系统完整性可以通过rpm自带的-Va来校验检查所有的rpm软件包，查看哪些命令是否被替换了：</span></span><br><span class="line">./rpm -Va &gt; rpm.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果一切均校验正常将不会产生任何输出，如果有不一致的地方，就会显示出来，输出格式是8位长字符串，每个字符都用以表示文件与RPM数据库中一种属性的比较结果 ，如果是. (点) 则表示测试通过。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 验证内容中的8个信息的具体内容如下：</span></span><br><span class="line"><span class="comment">#        S         文件大小是否改变</span></span><br><span class="line"><span class="comment">#        M         文件的类型或文件的权限（rwx）是否被改变</span></span><br><span class="line"><span class="comment">#        5         文件MD5校验是否改变（可以看成文件内容是否改变）</span></span><br><span class="line"><span class="comment">#        D         设备中，从代码是否改变</span></span><br><span class="line"><span class="comment">#        L         文件路径是否改变</span></span><br><span class="line"><span class="comment">#        U         文件的属主（所有者）是否改变</span></span><br><span class="line"><span class="comment">#        G         文件的属组是否改变</span></span><br><span class="line"><span class="comment">#        T         文件的修改时间是否改变</span></span><br><span class="line"><span class="comment"># 如果命令被替换了，如果还原回来：</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件提取还原案例：</span></span><br><span class="line">rpm  -qf /bin/ls  <span class="comment"># 查询ls命令属于哪个软件包</span></span><br><span class="line"><span class="built_in">mv</span>  /bin/ls /tmp  <span class="comment"># 先把ls转移到tmp目录下，造成ls命令丢失的假象</span></span><br><span class="line">rpm2cpio /mnt/cdrom/Packages/coreutils-8.4-19.el6.i686.rpm | cpio -idv ./bin/ls <span class="comment"># 提取rpm包中ls命令到当前目录的/bin/ls下</span></span><br><span class="line"><span class="built_in">cp</span> /root/bin/ls  /bin/ <span class="comment"># 把ls命令复制到/bin/目录 修复文件丢失</span></span><br></pre></td></tr></table></figure>

<h4 id="2.4">linux安全检查脚本</h4>

<p>Github项目地址：<br><a target="_blank" rel="noopener" href="https://github.com/grayddq/GScan">https://github.com/grayddq/GScan</a><br><a target="_blank" rel="noopener" href="https://github.com/ppabc/security_check">https://github.com/ppabc/security_check</a><br><a target="_blank" rel="noopener" href="https://github.com/T0xst/linux">https://github.com/T0xst/linux</a></p>
<h4 id="3">常见网络安全攻击特征</h4>

<table>
<thead>
<tr>
<th>攻击类型</th>
<th>特征表现</th>
</tr>
</thead>
<tbody><tr>
<td>挖矿病毒</td>
<td>- CPU &#x2F; GPU 长时间 占用 100%- 异常进程（如xmrig、kworker、ddgs） - 持续对外连接 矿池地址（stratum+tcp:&#x2F;&#x2F;）</td>
</tr>
<tr>
<td>DDoS 攻击</td>
<td>- 服务器 带宽异常占满-netstat显示大 SYN_RECV、TIME_WAIT-ps发现大量httpd&#x2F;nginx进程</td>
</tr>
<tr>
<td>后门木马</td>
<td>- 隐藏进程，ps进程列表找不到但top能看到 -crontab中出现可疑定时任务 - 端口监听异常 (ss -antp显示 root 运行的非标准端口)</td>
</tr>
<tr>
<td>蠕虫病毒</td>
<td>- 短时间内大量文件变动-top显示异常高 I&#x2F;O 负载 - 服务器对外疯狂扫描其他 IP</td>
</tr>
<tr>
<td>勒索病毒</td>
<td>- 文件被加密（扩展名.lock、.encrypted） -&#x2F;tmp目录下出现未知可执行文件 -ps发现wget&#x2F;curl下载可疑文件</td>
</tr>
<tr>
<td>Webshell &#x2F; 恶意代码</td>
<td>- 网站目录（&#x2F;var&#x2F;www&#x2F;html&#x2F;）出现陌生脚本文件- &#96;grep -r eval</td>
</tr>
<tr>
<td>SQL 注入攻击</td>
<td>- 数据库mysqld进程 CPU 异常升高 - 网站日志出现大量 UNION SELECT或 OR 1&#x3D;1语句</td>
</tr>
<tr>
<td>暴力破解 SSH</td>
<td>-&#x2F;var&#x2F;log&#x2F;secure出现大量 failed login记录 -who发现陌生 IP 登录 -ss -antp发现22端口大量连接</td>
</tr>
<tr>
<td>DNS 劫持</td>
<td>-resolv.conf被篡改，DNS 解析异常 -ping google.com解析 IP 变化 - 服务器 DNS 记录被改到8.8.8.8之外的未知 IP</td>
</tr>
<tr>
<td>恶意代理 &#x2F; 隧道</td>
<td>-ps发现socat、nc、iodine等隧道工具 - 服务器对外大量443&#x2F;80连接 -iptables规则被修改</td>
</tr>
<tr>
<td>ARP 欺骗 &#x2F; 内网流量劫持</td>
<td>-arp -a显示异常网关 MAC - 内网通信异常，流量到达错误 IP -tcpdump发现 ARP 报文激增</td>
</tr>
</tbody></table>
<h4 id="4">Linux数据传输</h4>

<table>
<thead>
<tr>
<th>传输方式</th>
<th>适用场景</th>
<th>使用示例</th>
</tr>
</thead>
<tbody><tr>
<td>SCP（安全复制协议）✅ 推荐</td>
<td>适用于内网或有 SSH 访问权限的服务器，支持加密传输</td>
<td>scp tool.tar.gz <a href="mailto:&#117;&#115;&#x65;&#114;&#64;&#x31;&#x39;&#x32;&#46;&#49;&#54;&#56;&#46;&#49;&#x2e;&#x31;&#x30;&#x30;">user@192.168.1.100</a>:&#x2F;tmp&#x2F;</td>
</tr>
<tr>
<td>SFTP（安全文件传输）✅ 推荐</td>
<td>基于 SSH，适用于Windows 客户端上传</td>
<td>使用FileZilla、WinSCP等客户端 ｜</td>
</tr>
<tr>
<td>rsync（高效增量同步）✅ 推荐</td>
<td>大文件同步，支持断点续传</td>
<td>rsync -avz tool.tar.gz <a href="mailto:&#117;&#x73;&#x65;&#x72;&#64;&#49;&#x39;&#x32;&#46;&#x31;&#54;&#56;&#46;&#49;&#46;&#49;&#48;&#x30;">user@192.168.1.100</a>:&#x2F;tmp&#x2F; ｜</td>
</tr>
<tr>
<td>Xshell &#x2F; Xftp（图形化）</td>
<td>适用于Windows 远程管理</td>
<td>Xftp 上传文件到服务器 ｜</td>
</tr>
<tr>
<td>FTP（不安全，谨慎使用）</td>
<td>适用于无 SSH 但开放 FTP 端口的服务器</td>
<td>ftp 192.168.1.100 ｜</td>
</tr>
<tr>
<td>HTTP &#x2F; Python Web 服务器✅ 推荐</td>
<td>适用于目标服务器可访问外网的情况</td>
<td>python3 -m http.server 8080 ｜</td>
</tr>
<tr>
<td>Wget &#x2F; Curl（远程下载）✅ 推荐</td>
<td>适用于服务器能访问公网的情况</td>
<td>wget <a target="_blank" rel="noopener" href="http://your-server.com/tool.tar.gz">http://your-server.com/tool.tar.gz</a></td>
</tr>
<tr>
<td>Netcat（适用于封闭环境）✅ 推荐</td>
<td>适用于内网受限环境，可用于无 SSH 但有端口通信的服务器</td>
<td>发送端：nc -lvp 4444 &lt; tool.tar.gz接收端：nc IP 4444 &gt; tool.tar.gz</td>
</tr>
<tr>
<td>SMB 共享（Windows ↔ Linux）</td>
<td>适用于Windows 与 Linux 互传</td>
<td>Linux 挂载 SMB:mount -t cifs &#x2F;&#x2F;192.168.1.100&#x2F;share &#x2F;mnt</td>
</tr>
<tr>
<td>U 盘 &#x2F; 物理介质</td>
<td>适用于离线服务器</td>
<td>直接拷贝到 U 盘，然后mount &#x2F;dev&#x2F;sdb1 &#x2F;mnt</td>
</tr>
</tbody></table>
<p><a target="_blank" rel="noopener" href="https://bypass007.github.io/Emergency-Response-Notes/Summary/%E7%AC%AC2%E7%AF%87%EF%BC%9ALinux%E5%85%A5%E4%BE%B5%E6%8E%92%E6%9F%A5.html">引用</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/WangsuSecurity/article/details/143143504">https://blog.csdn.net/WangsuSecurity/article/details/143143504</a></p>

        </div>
    

</div>
            
        </section>
    </div>
</div>



    <div class="row">
        <div class="col-sm-12">
            <div class="wrap-pagination">
                <a class="" href="/page/4/">
                    <i class="fa fa-chevron-left" aria-hidden="true"></i>
                </a>
                <a class="" href="/page/6/">
                    <i class="fa fa-chevron-right" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>




</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    Respect All Fear None. 
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2025/11/27/vue2vsvue3/">vue2 对比 vue3</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2025/11/27/vue-big-file-upload/">vue2 大文件上传component(做成组件)</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2025/11/27/wireshark/">Wireshark</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2025/11/27/xss/">XSS跨站脚本攻击</a>
            </li>
            
        </ul>
    </div>



            
<div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 footer-categories">
    <h2>Categories</h2>
    <ul>
        
        <li>
            <a class="footer-post" href="/categories/%E5%88%9B%E4%B8%9A/">创业</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/Blog/">Blog</a>
        </li>
        
        <li>
            <a class="footer-post" href="/categories/%E7%9F%A5/">知</a>
        </li>
        
    </ul>
</div>

        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://github.com/klugjo/hexo-theme-alpha-dust">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://twitter.com/?lang=en">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://www.facebook.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://www.instagram.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://dribbble.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://telegram.org/">
                            <span class="footer-icon-container">
                                <i class="fa fa-telegram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://www.behance.net/">
                            <span class="footer-icon-container">
                                <i class="fa fa-behance"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a target="_blank" rel="noopener" href="https://500px.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-500px"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @4ck. All right reserved | Design & Hexo 0rz33
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->

<script src="/js/main.js"></script>


<!-- Searching -->
<!-- <script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script> -->

<script src="/js/search.js"></script>


<!-- Mermaid -->
<script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
<script>
  if (window.mermaid) {
    mermaid.initialize({theme: 'dark'});
  }
</script>

<!-- Disqus Comments -->



</body>

</html>